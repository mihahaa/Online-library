<nav class="navbar navbar-expand-lg navbar-light bg-light" *ngIf="koje=='reader'">
    <div class="container-fluid">
      <a class="navbar-brand" href="main-reader">Bibl.io</a>
      </div>
  </nav>
  <nav class="navbar navbar-expand-lg navbar-light bg-light" *ngIf="koje=='moderator'">
    <div class="container-fluid">
      <a class="navbar-brand" href="main-moderator">Bibl.io</a>
      </div>
  </nav>
  <div class="single" style="padding-top: 30px;">
    <div  *ngIf="nes">
      <img [src]=nes alt="knjiga" style="height:200px">
  </div>
  <div *ngIf="!nes">
      <img src="/assets/knjiga.jpg" alt="knjiga" style="height:200px">
  </div>
    <table>
      <tr>Naziv knjige
          <td style="text-align: center;">
              {{naziv}}
          </td>
      </tr>
      <tr>Autori:
          <td style="text-align: center;">
              {{autori}}
          </td>
      </tr>
      <tr>Ocena:
        <td style="text-align: center;">
          <span class="fa fa-star" *ngIf="ocena>0" style="color:orange"></span>
          <span class="fa fa-star" *ngIf="ocena<=0"></span>
          <span class="fa fa-star" *ngIf="ocena>1" style="color:orange"></span>
          <span class="fa fa-star" *ngIf="ocena<=1"></span>
          <span class="fa fa-star" *ngIf="ocena>2" style="color:orange"></span>
          <span class="fa fa-star" *ngIf="ocena<=2"></span>
          <span class="fa fa-star" *ngIf="ocena>3" style="color:orange"></span>
          <span class="fa fa-star" *ngIf="ocena<=3"></span>
          <span class="fa fa-star" *ngIf="ocena>4" style="color:orange"></span>
          <span class="fa fa-star" *ngIf="ocena<=4"></span>
          <span class="fa fa-star" *ngIf="ocena>5" style="color:orange"></span>
          <span class="fa fa-star" *ngIf="ocena<=5"></span>
          <span class="fa fa-star" *ngIf="ocena>6" style="color:orange"></span>
          <span class="fa fa-star" *ngIf="ocena<=6"></span>
          <span class="fa fa-star" *ngIf="ocena>7" style="color:orange"></span>
          <span class="fa fa-star" *ngIf="ocena<=7"></span>
          <span class="fa fa-star" *ngIf="ocena>8" style="color:orange"></span>
          <span class="fa fa-star" *ngIf="ocena<=8"></span>
          <span class="fa fa-star" *ngIf="ocena>9" style="color:orange"></span>
          <span class="fa fa-star" *ngIf="ocena<=9"></span>
        </td>
    </tr>
  </table>
  </div>
  <div class="single">
    <div *ngIf="zad==3 || ima">Nije moguce zaduziti novu knjigu</div>
    <br/>
    <button class="btn btn-primary" *ngIf="nije && status!='blokiran' && koje!=''" (click)="add(username,id)">Komentarisite</button>
    <br/>
    <button class="btn btn-primary" *ngIf="status!='blokiran' && zad<3 && klk>0 && !jeste && !ima && koje!=''" (click)="brw(username,id)">Zaduzite</button>
    <br/>
      <button class="btn btn-primary" *ngIf="status!='blokiran' && klk==0 && !jeste && !rez && koje!=''" (click)="res(username,id)">Rezervisite</button>
  </div>
  <div *ngIf="allcomms.length>0">
  <div class="col-md-8 offset-md-2">
    <div class="table-responsive">
        <table class="table table-hover">
            <thead>
              <tr>
                <th scope="col">Korisnik</th>
                <th scope="col">Tekst</th>
                <th scope="col">Datum</th>
                <th scope="col">Ocena</th>
                <th scope="col">Azuriranost</th>
                <th scope="col"></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor='let a of allcomms'>
                <td>{{a.username}}</td>
                <td>{{a.tekst}}</td>
                <td>{{a.datum | date:'yyyy/MM/dd'}}</td>
                <td>
                    <span class="fa fa-star" *ngIf="a.ocena>0" style="color:orange"></span>
                    <span class="fa fa-star" *ngIf="a.ocena<=0"></span>
                    <span class="fa fa-star" *ngIf="a.ocena>1" style="color:orange"></span>
                    <span class="fa fa-star" *ngIf="a.ocena<=1"></span>
                    <span class="fa fa-star" *ngIf="a.ocena>2" style="color:orange"></span>
                    <span class="fa fa-star" *ngIf="a.ocena<=2"></span>
                    <span class="fa fa-star" *ngIf="a.ocena>3" style="color:orange"></span>
                    <span class="fa fa-star" *ngIf="a.ocena<=3"></span>
                    <span class="fa fa-star" *ngIf="a.ocena>4" style="color:orange"></span>
                    <span class="fa fa-star" *ngIf="a.ocena<=4"></span>
                    <span class="fa fa-star" *ngIf="a.ocena>5" style="color:orange"></span>
                    <span class="fa fa-star" *ngIf="a.ocena<=5"></span>
                    <span class="fa fa-star" *ngIf="a.ocena>6" style="color:orange"></span>
                    <span class="fa fa-star" *ngIf="a.ocena<=6"></span>
                    <span class="fa fa-star" *ngIf="a.ocena>7" style="color:orange"></span>
                    <span class="fa fa-star" *ngIf="a.ocena<=7"></span>
                    <span class="fa fa-star" *ngIf="a.ocena>8" style="color:orange"></span>
                    <span class="fa fa-star" *ngIf="a.ocena<=8"></span>
                    <span class="fa fa-star" *ngIf="a.ocena>9" style="color:orange"></span>
                    <span class="fa fa-star" *ngIf="a.ocena<=9"></span>
                </td>
                <td>
                    <span class="label label-default" *ngIf="a.izmenjen">Izmenjen</span>
                    <span class="label label-default" *ngIf="!a.izmenjen">Nov</span>
                </td>
                <td>
                    <button class="btn btn-light" *ngIf="a.username==username" (click)="go(a.username,a.idknjige)">Promenite</button>
                </td>
            </tr>
            </tbody>
          </table>
        </div>
    </div>  
</div>
<br/>
<div class="single">
<div *ngIf="allcomms.length==0"><h2>Ova knjiga nije komentarisana</h2></div>
</div>